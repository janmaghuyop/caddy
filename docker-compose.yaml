version: '3.9'

services:

  # https://hub.docker.com/_/caddy
  caddy:
    image: docker.io/caddy:2.6-alpine
    ports:
      - "127.0.0.1:8080:8080"
      - "127.0.0.1:8443:8443"
    volumes:
      - ./Caddyfile:/etc/caddy/Caddyfile
      - ./tmp/localhost.pem:/etc/caddy/certs/localhost.pem
      - ./tmp/localhost-key.pem:/etc/caddy/certs/localhost-key.pem

  # https://hub.docker.com/r/containous/whoami
  whoami:
    image: docker.io/containous/whoami:v1.5.0
    ports:
      - "127.0.0.1:8081:80"

